{% extends "manning/base/base.html" %} 
{% load static %} 

{% block title %}ì„¸ì…˜ ìƒì„± | Manning System{% endblock title %} 

{% block css %}
<link rel="stylesheet" href="{% static 'css/create_session.css' %}" />
{% endblock css %} 

{% block js %}
<script>
    const CHECK_GIBUN_URL = "{% url 'check_gibun' %}";
</script>
<script defer src="{% static 'js/create_session.js' %}"></script>
{% endblock js %} 

{% block navsize %}style="max-width: 900px;"{% endblock navsize %}
{% block navhome %}href="{% url 'index' %}"{% endblock navhome %} 
{% block navname %}<span>í™ˆ í˜ì´ì§€</span>{% endblock navname %} 
{% block navreturn %}
<a
    href="{% url 'paste_data' %}"
    class="btn btn-outline-secondary btn-sm text-light border-secondary"
>
    <i class="bi bi-clock-history"></i>
    <span class="d-none d-md-inline">ë°ì´í„° ë“±ë¡</span>
</a>
{% endblock navreturn %} 

{% block content %}
<div class="container" style="max-width: 900px; padding-top: 100px;">
    <div
        class="card border-0 shadow-lg rounded-4 overflow-hidden"
        data-aos="fade-up"
    >
        <div
            class="card-header bg-white border-0 pt-4 pb-2 px-4 px-md-5 text-center"
        >
            <h3 class="fw-bold text-dark mb-1">ì‘ì—… ì„¸ì…˜ ì‹œì‘</h3>
        </div>

        <div class="card-body px-4 px-md-5 pb-2 pt-3">
            <form method="POST">
                {% csrf_token %}

                <div class="row g-4 mb-4">
                    <div class="col-12">
                        <label
                            class="form-label fw-bold text-dark small text-uppercase ls-1"
                            >1. ì„¸ì…˜ ì´ë¦„</label
                        >
                        <input
                            type="text"
                            name="session_name"
                            class="form-control form-control-md bg-light border-0"
                            placeholder="ì˜ˆ: ì—”ì§„ êµí™˜"
                            value="{{ slot }}"
                            required
                        />
                    </div>

                    <div class="col-12">
                        <label
                            class="form-label fw-bold text-dark small text-uppercase ls-1"
                            >2. ê·¼ë¬´ í˜•íƒœ</label
                        >
                        <div class="row g-2">
                            <div class="col-6">
                                <input
                                    type="radio"
                                    class="btn-check"
                                    name="shift_type"
                                    id="shiftDay"
                                    value="DAY"
                                    required
                                />
                                <label
                                    class="btn btn-outline-warning w-100 py-3 rounded-3 border-2 fw-bold"
                                    for="shiftDay"
                                >
                                    <i class="bi bi-sun-fill me-1"></i> ì£¼ê°„
                                    <div
                                        class="small fw-normal opacity-75"
                                        style="font-size: 0.75rem"
                                    >
                                        08:00 ~ 20:00
                                    </div>
                                </label>
                            </div>
                            <div class="col-6">
                                <input
                                    type="radio"
                                    class="btn-check"
                                    name="shift_type"
                                    id="shiftNight"
                                    value="NIGHT"
                                />
                                <label
                                    class="btn btn-outline-dark w-100 py-3 rounded-3 border-2 fw-bold"
                                    for="shiftNight"
                                >
                                    <i class="bi bi-moon-stars-fill me-1"></i>
                                    ì•¼ê°„
                                    <div
                                        class="small fw-normal opacity-75"
                                        style="font-size: 0.75rem"
                                    >
                                        20:00 ~ 08:00
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row g-4 mb-3">
                    <div class="col-md-6">
                        <label
                            class="form-label fw-bold text-dark small text-uppercase ls-1"
                            >3. í•­ê³µê¸° ê¸°ë²ˆ ë“±ë¡</label
                        >

                        <div
                            id="gibunContainer"
                            class="tag-input-container d-flex flex-wrap gap-2 align-items-center p-2"
                        >
                            <input
                                type="text"
                                id="gibunInput"
                                class="border-0 bg-transparent flex-grow-1"
                                style="outline: none; min-width: 100px"
                                placeholder="ê¸°ë²ˆ ì…ë ¥ í›„ ì—”í„°"
                            />
                        </div>

                        <div class="form-text small text-muted mt-1 ms-1">
                            <i class="bi bi-info-circle me-1"></i>ì‘ì—… ëŒ€ìƒ
                            í•­ê³µê¸°ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.
                        </div>

                        <div
                            id="gibunWarning"
                            class="alert alert-warning d-flex align-items-center mt-2 py-2 px-3 small fade show"
                            style="display: none !important"
                        >
                            <i class="bi bi-exclamation-triangle-fill me-2"></i>
                            <div>ë“±ë¡ë˜ì§€ ì•Šì€ ê¸°ë²ˆì…ë‹ˆë‹¤.</div>
                        </div>

                        <input
                            type="hidden"
                            name="gibun_input"
                            id="realGibunField"
                        />
                    </div>

                    <div class="col-md-6">
                        <label
                            class="form-label fw-bold text-dark small text-uppercase ls-1"
                            >4. ì‘ì—…ì ëª…ë‹¨</label
                        >

                        <textarea
                            id="workerNames"
                            name="worker_names"
                            class="form-control bg-light border-0"
                            rows="3"
                            placeholder="ì‰¼í‘œ ë˜ëŠ” ì—”í„°ë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥í•˜ì„¸ìš”."
                            style="resize: none"
                            required
                        ></textarea>

                        <div class="form-text small text-muted mt-1 ms-1">
                            <i class="bi bi-pencil-fill me-1"></i>
                            ì‰¼í‘œ ë˜ëŠ” ì—”í„°ë¡œ êµ¬ë¶„í•˜ì—¬ ì—¬ëŸ¬ ëª… ì…ë ¥ ê°€ëŠ¥
                        </div>
                    </div>
                </div>

                <div class="d-grid gap-2 py-3">
                    <div
                        id="form_requirements"
                        class="text-center text-danger small fw-bold mb-1 fade show"
                    >
                        <i class="bi bi-exclamation-circle me-1"></i>í•„ìˆ˜ í•­ëª©ì„
                        ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”
                    </div>

                    <button
                        type="submit"
                        id="submitBtn"
                        class="btn btn-primary btn-lg py-3 rounded-pill fw-bold shadow-sm"
                        disabled
                    >
                        ğŸš€ ì‘ì—… ì„¸ì…˜ ìƒì„±í•˜ê¸°
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock content %} 