{% extends 'manning/base/base.html' %} 
{% load static %} 

{% block title %}대시보드 | Manning System{% endblock %} 

{% block css %}
<link rel="stylesheet" href="{% static 'css/index.css' %}" />
{% endblock css %} 

{% block js %}
<script defer src="{% static 'js/index.js' %}"></script>
{% endblock js %} 

{% block background_image %} 
    <div class="index-bg">
        {% static "img/default.jpg" as index_bg %}
        {% include "manning/image/background_url.html" with bg_key="index" bg_default=index_bg %}
    </div>
{% endblock background_image %}

{% block content %}
<div class="row g-4 my-4 glass-panel h-100 rounded-3" data-aos="fade-up" data-aos-duration="1000">
    <div class="col-lg-7 d-flex flex-column justify-content-center mb-4">
        <div class="ps-2">
            <h1 class="display-6 fw-bold text-dark">
                Work Smart, <br />Manage Better.
            </h1>
            <p class="text-dark mb-4">
                작업 세션을 생성하고 실시간으로 인력을 관리하세요.<br />
                효율적인 업무 배정이 여기서 시작됩니다.
            </p>

            <div class="d-flex flex-wrap gap-3">
                <a
                    href="{% url 'create_session' %}"
                    class="btn btn-primary btn-md rounded-3 px-2 shadow-sm fw-bold"
                >
                    <i class="bi bi-plus-lg me-1"></i> 새 세션 시작
                </a>

                <a
                    href="{% url 'session_list' %}"
                    class="btn btn-dark btn-md rounded-3 px-2 shadow-sm fw-bold pt-2"
                >
                    <i class="bi bi-grid-fill me-1"></i> 현황판 입장
                </a>
                <a
                    href="{% url 'master_data_list' %}"
                    class="btn btn-secondary btn-md rounded-3 px-2 shadow-sm fw-bold pt-2"
                >
                    <i class="bi bi-database-add"></i> 데이터 등록 현황
                </a>
            </div>
        </div>
    </div>

    <div class="col-lg-5 mb-4">
        <div
            class="card border-0 shadow-lg rounded-4 overflow-hidden h-100 " style="background: linear-gradient(135deg, #1e293b 0%, #334155 100%);"
        >
            <div
                class="position-absolute "
                style="top: -20px; right: -20px"
            >
                <i
                    class="bi bi-clock"
                    style="font-size: 10rem; color: rgba(255, 255, 255, 0.1)"
                ></i>
            </div>

            <div
                class="card-body p-4 d-flex flex-column justify-content-center z-1  rounded-4 h-100 "
            >
                <div
                    class="d-flex justify-content-between align-items-center mb-4"
                >
                    <span class="fw-bold text-warning letter-spacing-1"
                        ><i class="bi bi-globe2 me-1"></i> GLOBAL TIME</span
                    >
                    <span class="badge bg-danger rounded-pill px-3">LIVE</span>
                </div>

                <div class="row align-items-end g-0 fw-bold">
                    <div class="col-7">
                        <small
                            class="text-white text-uppercase"
                            style="letter-spacing: 1px"
                            >Local Time</small
                        >
                        <div
                            class="display-5 fw-bold my-1 text-white"
                            id="digital-time"
                            style="
                                font-family: &quot;Courier New&quot;, monospace;
                            "
                        >
                            00:00:00
                        </div>
                        <small class="text-white" id="digital-date"
                            >Loading...</small
                        >
                    </div>

                    <div
                        class="col-5 text-end border-start border-secondary ps-3"
                    >
                        <small
                            class="text-white text-uppercase fw-bold"
                            style="letter-spacing: 1px"
                            >UTC</small
                        >
                        <div
                            class="fs-2 fw-bold my-1 text-warning"
                            id="digital-time-utc"
                            style="
                                font-family: &quot;Courier New&quot;, monospace;
                            "
                        >
                            00:00
                        </div>
                        <small class="text-white">Universal</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="row g-4 my-5 opacity-75" data-aos="fade-down" data-aos-duration="1000">
    <div class="col-md-4">
        <div class="card border-0 shadow-sm h-100 rounded-4 hover-lift">
            <div class="card-body p-4 d-flex align-items-center">
                <div
                    class="icon-circle bg-primary bg-opacity-10 text-primary me-3"
                >
                    <i class="bi bi-activity"></i>
                </div>
                <div>
                    <h6 class="text-muted text-uppercase fw-bold small mb-1">
                        Active Sessions
                    </h6>
                    <h2 class="fw-bold text-dark mb-0">
                        <span class="active-count-num">{{ active_count }}</span><span class="fs-6 text-muted ms-1">개</span>                       
                    </h2>
                </div>
                <a href="{% url 'session_list' %}" class="stretched-link"></a>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card border-0 shadow-sm h-100 rounded-4 hover-lift">
            <div class="card-body p-4 d-flex align-items-center">
                <div
                    class="icon-circle bg-success bg-opacity-10 text-success me-3"
                >
                    <i class="bi bi-archive"></i>
                </div>
                <div>
                    <h6 class="text-muted text-uppercase fw-bold small mb-1">
                        History Archive
                    </h6>
                    <h2 class="fw-bold text-dark mb-0">
                        <span class="history-count-num">{{ history_count }}</span><span class="fs-6 text-muted ms-1">건</span>                       
                    </h2>
                </div>
                <a href="{% url 'history' %}" class="stretched-link"></a>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card border-0 shadow-sm h-100 rounded-4 hover-lift">
            <div class="card-body p-4 d-flex align-items-center">
                <div class="icon-circle bg-info bg-opacity-10 text-info me-3">
                    <i class="bi bi-database-add"></i>
                </div>
                <div>
                    <h6 class="text-muted text-uppercase fw-bold small mb-1">
                        Master Data
                    </h6>
                    <h5 class="fw-bold text-dark mb-0">데이터 관리</h5>
                </div>
                <a href="{% url 'paste_data' %}" class="stretched-link"></a>
            </div>
        </div>
    </div>
</div>
{% comment %} </div> {% endcomment %}

<div class="index-footer-spacer"></div>
<footer class="text-center text-white py-3 mt-4 bg-secondary index-footer-fixed">
    <small class="opacity-50">
        &copy; 2026 Man Hour Calculator System. All rights reserved.
    </small>
</footer>

{% endblock content %}
